webpackJsonp([0],{0:function(e,t,s){"use strict";var n=s(23),a=s.n(n),o=s(24),i=s.n(o),r=s(26),l=s.n(r),u=s(25),p=s.n(u);t.a={Landing:a.a,Login:i.a,TodoList:l.a,PostForm:p.a}},105:function(e,t,s){"use strict";var n=s(107),a=s.n(n),o=s(108),i=s.n(o),r=s(87),l=s.n(r),u="https://real-juice.herokuapp.com/api/",p=function(){function e(t){a()(this,e),this.request=l.a.create({baseURL:u,headers:{"Access-Token":t}})}return i()(e,[{key:"auth",value:function(e,t){return this.request.post("auth/token",{email:e,password:t})}},{key:"feachTodos",value:function(){return this.request.get("todos")}},{key:"feachMeTodos",value:function(){return this.request.get("me/todos")}},{key:"postPost",value:function(e){return this.request.post("me/posts",e)}}]),e}();t.a=p},11:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(0);t.default={name:"app",data:function(){return{pageStack:[n.a.Landing]}},created:function(){var e=localStorage.getItem("token");null!==e&&this.$store.commit("setToken",e)}}},12:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(2);s(0);t.default={name:"landing",mixins:[n.a],mounted:function(){this.$store.getters.isAuth?this.pushPage(this.Page.TodoList):this.pushPage(this.Page.Login)}}},121:function(e,t,s){"use strict";var n=s(105),a=s(2),o=s(0);t.a={mixins:[a.a],data:function(){return{api:null}},created:function(){var e=this;if(this.$store.getters.isAuth){var t=this.$store.getters.token;this.api=new n.a(t)}else this.$ons.notification.alert({message:"ログインしてください",callback:function(){e.$parent.pageStack=[o.a.Landing,o.a.Login]}})}}},13:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(2),a=(s(0),s(105));t.default={mixins:[n.a],data:function(){return{api:new a.a,email:"test@test.jp",password:"testtest"}},methods:{login:function(){var e=this;this.validate()&&this.api.auth(this.email,this.password).then(function(t){var s=t.data.token;e.$store.dispatch("setToken",s),e.pushPage(e.Page.TodoList)}).catch(function(t){console.log(t),e.$ons.notification.alert({title:"ログインエラー",message:"メールアドレスとパスワードを確認してください"})})},validate:function(){var e=this.$data,t=e.email,s=e.password;return""===t&&""===s?(this.$ons.notification.alert("メールアドレスとパスワードを入力してください"),!1):""===t?(this.$ons.notification.alert("メールアドレスを入力してください"),!1):""!==s||(this.$ons.notification.alert("パスワードを入力してください"),!1)}},created:function(){}}},14:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(121),a=(s(0),s(58)),o=s.n(a);t.default={name:"post-form",mixins:[n.a],data:function(){return{selectTodoId:"",todos:[],imageSrc:"https://placehold.jp/cccccc/989898/240x200.png?text=No%20Image",postingWait:!1,postResultShow:!0,postResult:null}},methods:{selectImage:function(e){var t=this,s=e.target.files[0],n=new FileReader;n.onload=function(e){t.imageSrc=e.target.result},n.readAsDataURL(s)},post:function(){var e=this;this.postingWait=!0;var t={todo_id:parseInt(this.selectTodoId),image_base64:this.imageSrc,text:"test"};console.log(t),this.api.postPost(t).then(function(t){e.postingWait=!1,e.postResult=t.data,e.postResultShow=!0})}},created:function(){var e=this;this.api.feachTodos().then(function(t){e.todos=t.data})},components:{PostResult:o.a}}},15:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(121);t.default={mixins:[n.a],data:function(){return{userTodos:[],query:"",unachieved:!1}},computed:{todos:function(){var e=this;return this.userTodos.filter(function(t){return-1!=t.name.indexOf(e.query)}).filter(function(t){return!e.unachieved||0==t.achievement})}},created:function(){var e=this;this.api.feachMeTodos().then(function(t){e.userTodos=t.data})}}},16:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(8),a=(s.n(n),s(7)),o=(s.n(a),s(3)),i=s(10),r=s.n(i),l=s(6),u=s(9),p=s.n(u);o.a.config.productionTip=!1,o.a.use(r.a),new o.a({el:"#app",store:l.a,template:"<App/>",components:{App:p.a}})},17:function(e,t){},18:function(e,t){},19:function(e,t){},2:function(e,t,s){"use strict";var n=s(0);t.a={data:function(){return{Page:n.a}},methods:{pushPage:function(e){this.$parent.pageStack.push(e)}}}},23:function(e,t,s){var n=s(1)(s(12),s(27),null,null,null);e.exports=n.exports},24:function(e,t,s){function n(e){s(18)}var a=s(1)(s(13),s(30),n,"data-v-51be4ad7",null);e.exports=a.exports},25:function(e,t,s){function n(e){s(19)}var a=s(1)(s(14),s(31),n,"data-v-a6cae5f4",null);e.exports=a.exports},26:function(e,t,s){function n(e){s(63)}var a=s(1)(s(15),s(64),n,"data-v-408859a6",null);e.exports=a.exports},27:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-ons-page",{attrs:{id:"landing"}})},staticRenderFns:[]}},28:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-ons-navigator",{attrs:{swipeable:"","page-stack":e.pageStack}})},staticRenderFns:[]}},30:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-ons-page",{attrs:{id:"landing"}},[s("div",{staticClass:"bg"},[s("div",{staticClass:"bg-over"},[s("div",{staticClass:"center"},[s("h1",[e._v("LOGIN")]),e._v(" "),s("div",{staticClass:"input"},[s("label",[e._v("メールアドレス")]),s("br"),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"example@yahoo.co.jp"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input"},[s("label",[e._v("パスワード")]),s("br"),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),s("div",{staticStyle:{"margin-bottom":"100px"}},[s("button",{staticClass:"login-btn",on:{click:e.login}},[e._v("ログイン")])]),e._v(" "),s("span",{staticClass:"link",on:{click:function(t){e.window.open("http://google.com","_system")}}},[e._v("アカウント作成")])])])])])},staticRenderFns:[]}},31:function(e,t){throw new Error("Module build failed: SyntaxError: Assigning to rvalue (117:25)\n    at Parser.pp$4.raise (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:2231:15)\n    at Parser.pp$2.toAssignable (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1354:14)\n    at Parser.pp$3.parseMaybeAssign (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1614:46)\n    at Parser.pp$3.parseMaybeAssign (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1618:25)\n    at Parser.pp$3.parseExpression (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1583:21)\n    at Parser.pp$1.parseStatement (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:737:47)\n    at Parser.pp$1.parseBlock (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:991:25)\n    at Parser.pp$3.parseFunctionBody (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:2115:24)\n    at Parser.pp$1.parseFunction (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1075:10)\n    at Parser.pp$3.parseExprAtom (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1820:19)\n    at Parser.parseExprAtom (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:3800:24)\n    at Parser.pp$3.parseExprSubscripts (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1725:21)\n    at Parser.pp$3.parseMaybeUnary (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1702:19)\n    at Parser.pp$3.parseExprOps (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1647:21)\n    at Parser.pp$3.parseMaybeConditional (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1630:21)\n    at Parser.pp$3.parseMaybeAssign (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1607:21)\n    at Parser.pp$3.parsePropertyValue (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:2008:89)\n    at Parser.parseObj (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:3895:14)\n    at Parser.pp$3.parseExprAtom (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1815:19)\n    at Parser.parseExprAtom (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:3800:24)\n    at Parser.pp$3.parseExprSubscripts (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1725:21)\n    at Parser.pp$3.parseMaybeUnary (/Users/user/development/real-juice-app/node_modules/vue-template-es2015-compiler/buble.js:1702:19)")},57:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(68),a=s.n(n);t.default={name:"post-result",props:["result"],computed:{totalBonusPoint:function(){return 0==this.result.getBonuses.length?0:this.result.getBonuses.reduce(function(e,t){return e+parseInt(t.point)},0)},totalTitlePoint:function(){return 0==this.result.getTitle.length?0:this.result.getTitle.reduce(function(e,t){return e+parseInt(t.point)},0)}},mounted:function(){for(var e=this.result.total_point/10*2,t=0;t<=e;t++){var s=Math.ceil(50*Math.random()),n=Math.ceil(50*Math.random()),o=Math.ceil(10*Math.random()),i=Math.ceil(5*Math.random()),r=Math.ceil(5*Math.random());a()(this.$el).append('<div class="bubble move'+s+" pos"+n+'"><div class="scale'+o+'"><div class="shake'+r+'"><span class="item stretch'+i+'"></span></div></div>')}}}},58:function(e,t,s){function n(e){s(69)}var a=s(1)(s(57),s(59),n,null,null);e.exports=a.exports},59:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post-result"},[s("h2",{staticStyle:{margin:"0","text-align":"center"}},[e._v("投稿結果")]),e._v(" "),s("div",[s("h3",{staticStyle:{margin:"0"}},[e._v("獲得リア充度")]),e._v(" "),s("div",{staticStyle:{"margin-bottom":"20px"}},[s("div",[e._v("\n                獲得リア充度："+e._s(e.result.total_point)+"ml\n            ")]),e._v(" "),s("div",[e._v("\n                累計リア充度："+e._s(e.result.total_point)+"ml\n            ")])]),e._v(" "),s("div",[s("section",{staticClass:"point-section"},[s("h3",{staticClass:"point-title"},[e._v("投稿リア充度")]),e._v(" "),s("div",{staticClass:"point-info"},[s("table",[s("tr",[s("td",[e._v(e._s(e.result.todo.name))]),s("td",[e._v("+"+e._s(e.result.todo.base_point)+"ml")])])])])]),e._v(" "),s("section",{staticClass:"point-section"},[s("h3",{staticClass:"point-title"},[e._v("獲得リア充ボーナス")]),e._v(" "),s("div",{staticClass:"point-info"},[e._l(e.result.getBonuses,function(t){return 0!=e.result.getBonuses.length?s("table",[s("tr",[s("td",[e._v(e._s(t.name))]),e._v(" "),s("td",[e._v("+"+e._s(t.point)+"ml")])])]):s("div",[e._v("\n                        獲得したボーナスなし\n                    ")])}),e._v(" "),s("div",{staticClass:"point-total"},[e._v("\n                        合計ボーナスリア充度： "+e._s(e.totalBonusPoint)+"ml\n                    ")])],2)]),e._v(" "),s("section",{staticClass:"point-section"},[s("h3",{staticClass:"point-title"},[e._v("獲得称号")]),e._v(" "),s("div",{staticClass:"point-info"},[e._l(e.result.getTitle,function(t){return 0!=e.result.getTitle.length?s("table",[s("tr",[s("td",[e._v(e._s(t.name))]),e._v(" "),s("td",[e._v("+"+e._s(t.point)+"ml")])])]):s("div",[e._v("\n                        獲得した称号なし\n                    ")])}),e._v(" "),s("div",{staticClass:"point-total"},[e._v("\n                        合計称号リア充度： "+e._s(e.totalTitlePoint)+"ml\n                    ")])],2)])])])])},staticRenderFns:[]}},6:function(e,t,s){"use strict";var n=s(3),a=s(33);n.a.use(a.a),t.a=new a.a.Store({state:{token:null},mutations:{setToken:function(e,t){return e.token=t}},actions:{setToken:function(e,t){var s=e.commit;localStorage.setItem("token",t),s("setToken",t)}},getters:{isAuth:function(e){return null!=e.token},token:function(e){return e.token}}})},63:function(e,t){},64:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-ons-page",{attrs:{id:"todo-list"}},[s("v-ons-toolbar",{staticStyle:{backgroundColor:"#4282cc"}},[s("div",{staticClass:"center"},[e._v("リア充っぽいことリスト")])]),e._v(" "),s("div",{staticClass:"bg"},[s("div",{staticClass:"bg-over"},[s("p",{staticStyle:{padding:"0 10px"}},[s("v-ons-search-input",{attrs:{placeholder:"Search"},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),e._v(" "),s("span",{staticStyle:{"vertical-align":"bottom"}},[s("v-ons-checkbox",{attrs:{"input-id":"unachieved"},model:{value:e.unachieved,callback:function(t){e.unachieved=t},expression:"unachieved"}}),e._v(" "),s("label",{attrs:{for:"unachieved"}},[e._v("未達成のみ")])],1)],1),e._v(" "),s("v-ons-list",[e._l(e.todos,function(t){return[s("v-ons-list-header",[s("v-ons-icon",{attrs:{icon:"zmdi-star, material:md-zmdi-star"}}),e._v("\n                        "+e._s(t.name)+"\n                    ")],1),e._v(" "),s("v-ons-list-item",[s("div",{staticClass:"left"},[e._v("\n                            投稿数"+e._s(t.posts.length)+"回\n                        ")]),e._v(" "),s("div",{staticClass:"right"},[s("span",{staticStyle:{"text-align":"right",width:"100%"}},[e._v("合計"+e._s(t.total_point)+"ml")])])])]})],2)],1)]),e._v(" "),s("v-ons-fab",{staticStyle:{backgroundColor:"#4282cc"},attrs:{position:"bottom right"},on:{click:function(t){e.pushPage(e.Page.PostForm)}}},[s("v-ons-icon",{attrs:{icon:"md-edit"}})],1)],1)},staticRenderFns:[]}},69:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t,s){function n(e){s(17)}var a=s(1)(s(11),s(28),n,"data-v-2e70f31a",null);e.exports=a.exports}},[16]);
//# sourceMappingURL=app.e4e3762d30110f7e6a77.js.map